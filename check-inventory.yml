---
 - name: Check host age with VMware inventory source
   become: false
   hosts: localhost
   gather_facts: false

   vars:
      stage_inventory:
      staged_host:

   tasks:
     - name: Gather host info from stage inventory
       uri:
          url: https://student1.7phbk.example.opentlc.com/api/v2/inventories/2/hosts/
          method: GET
          user: "{{ controller_username }}"
          password: "{{ controller_password }}"
          force_basic_auth: yes
          validate_certs: false
          body_format: json
       register: stage_inventory_info

     - name: Print each host and the date they were added to the inventory
       debug:
          msg: "{{ stage_inventory_info.json }}" #| json_query(jmesquery) }}"
      # vars:
       #   jmesquery: "[*].{Name: name, Created: created}"


       
